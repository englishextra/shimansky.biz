(function(l){l.console||(l.console={});l=l.console;for(var e,d=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");e=b.pop();)l[e]||(l[e]={});for(;e=a.pop();)l[e]||(l[e]=d);e=e=d=b=a=null})("undefined"!==typeof window?window:this);
(function(l,e){var d={create:function(b,a,c,f){var g=this;g.dataAttributeHighresName=c||"highres";g.dataAttributeLowresName=f||"lowres";d.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){g.children&&0<g.children.length&&d.shrink(g.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",d.animate);a&&d.keys(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var f=b||e.getElementsByClassName("zoomwall lightbox")[0];if(f)switch(a.keyCode){case 27:f.children&&
0<f.children.length&&d.shrink(f.children[0]);a.preventDefault();break;case 37:d.page(f,!1);a.preventDefault();break;case 39:d.page(f,!0),a.preventDefault()}}};e.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(window.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(window.getComputedStyle(b[c]).width,10));
return a},resize:function(b){for(var a=[],c=-1,f=0;f<b.length;f++){var g=b[f];g&&(-1==c?c=g.offsetTop:g.offsetTop!=c&&(d.resizeRow(a,d.calcRowWidth(a)),a=[],c=g.offsetTop),a.push(g))}d.resizeRow(a,d.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");d.reset(b);for(var a=b.previousElementSibling;a;)d.reset(a),a=a.previousElementSibling;
for(a=b.nextElementSibling;a;)d.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=window.getComputedStyle(b.parentNode),c=parseInt(a.width,10),f=parseInt(a.height,10),g=b.parentNode.getBoundingClientRect().top,a=window.getComputedStyle(b),h=parseInt(a.width,10),e=parseInt(a.height,10),m=window.innerHeight;f<window.innerHeight?m=f:0<g&&(m-=g);b.dataset[this.dataAttributeHighresName]&&
(b.src!=b.dataset[this.dataAttributeHighresName]&&void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var k=[];k.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)k.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)k.unshift(a),a=a.previousElementSibling;a=m/e;h*a>c&&(a=c/h);var d=g-b.parentNode.offsetTop+b.offsetTop;if(f<window.innerHeight||e*a<f)d-=
m/2-e*a/2;0<g&&(d-=g);for(f=g=0;f<k.length&&k[f]!=b;f++)g+=parseInt(window.getComputedStyle(k[f]).width,10)*a;g=c/2-h*a/2-g;f=0;for(m=k.length-1;0<=m&&k[m]!=b;m--)f+=parseInt(window.getComputedStyle(k[m]).width,10)*a;f=c/2-h*a/2-f;for(h=c=b=0;h<k.length;h++){b+=c*a-c;var c=parseInt(window.getComputedStyle(k[h]).width,10),m=(b+g)/c*100,n=-d/parseInt(window.getComputedStyle(k[h]).height,10)*100;k[h].style.transformOrigin="0% 0%";k[h].style.webkitTransformOrigin="0% 0%";k[h].style.transform="translate("+
m.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")";k[h].style.webkitTransform="translate("+m.toFixed(8)+"%, "+n.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var e=e*(a-1)-d,l,c=b=0,h=k[k.length-1].nextElementSibling,m=-1;h;){n=h.offsetTop;n==m?b+=c*a-c:(-1!=m&&(b=0,e+=l*(a-1)),m=n);c=parseInt(window.getComputedStyle(h).width,10);l=parseInt(window.getComputedStyle(h).height,10);var n=(b+g)/c*100,q=e/l*100;h.style.transformOrigin="0% 0%";h.style.webkitTransformOrigin="0% 0%";h.style.transform=
"translate("+n.toFixed(8)+"%, "+q.toFixed(8)+"%) scale("+a.toFixed(8)+")";h.style.webkitTransform="translate("+n.toFixed(8)+"%, "+q.toFixed(8)+"%) scale("+a.toFixed(8)+")";h=h.nextElementSibling}l=-d;c=b=0;k=k[0].previousElementSibling;for(d=-1;k;)g=k.offsetTop,g==d?b-=c*a-c:(b=0,l-=parseInt(window.getComputedStyle(k).height,10)*(a-1),d=g),c=parseInt(window.getComputedStyle(k).width,10),g=(b-f)/c*100,e=l/parseInt(window.getComputedStyle(k).height,10)*100,k.style.transformOrigin="100% 0%",k.style.webkitTransformOrigin=
"100% 0%",k.style.transform="translate("+g.toFixed(8)+"%, "+e.toFixed(8)+"%) scale("+a.toFixed(8)+")",k.style.webkitTransform="translate("+g.toFixed(8)+"%, "+e.toFixed(8)+"%) scale("+a.toFixed(8)+")",k=k.previousElementSibling},animate:function(b){if(this.classList.contains("active"))d.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),c=0;c<a.length;c++)a[c].classList.remove("active");d.expand(this)}b.stopPropagation()},page:function(b,a){var c=b.getElementsByClassName("active");
if(c&&0<c.length){var c=c[0],f;if(f=a?c.nextElementSibling:c.previousElementSibling)c.classList.remove("active"),c.dataset.lowres&&(c.src=c.dataset.lowres),d.expand(f)}}};l.zoomwall=d})("undefined"!==typeof window?window:this,document);
(function(l,e){l.echo=function(d,b,a){d=d||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},f=e.documentElement.classList.contains("is-binded-echo")||"",g=[],h=function(){for(var a=0;a<g.length;a++){var c=g[a],h=c.getBoundingClientRect();if((0<=h.top&&0<=h.left&&h.top)<=(window.innerHeight||e.documentElement.clientHeight)){var h=c,f=a;-1!==g.indexOf(c)&&g.splice(f,1);h.src=h.dataset[b]||h.getAttribute("data-"+b)}}},r=function(a,b){function c(){e=0;d=+new Date;
f=a.apply(h,g);g=h=null}var h,g,f,e,d=0;return function(){h=this;g=arguments;var a=new Date-d;e||(a>=b?c():e=setTimeout(c,b-a));return f}}(h,a);c.prototype={init:function(){g.push(this.elem)},render:function(){h()},listen:function(){f||(l.addEventListener("scroll",r,{passive:!0}),e.documentElement.classList.add("is-binded-echo"))}};var m=e.getElementsByClassName(d)||"";m&&function(){for(var a=0;a<m.length;a++)(new c(m[a])).init()}()}})("undefined"!==typeof window?window:this,document);
(function(l,e){l.doesFontExist=function(d){var b=e.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+d+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(l,e){l.loadJsCss=function(d,b){var a=this;a.files=d;a.js=[];a.head=e.getElementsByTagName("head")[0]||"";a.body=e.body||"";a.ref=e.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=e.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=e.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,f;c=0;for(f=a.files.length;c<f;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=f=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(l,e){var d=function(){var a=e.getElementById("zoomwall")||"",b=new Headers;fetch("./libs/picturewall/json/zoomwall.json",{headers:b,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/picturewall/json/zoomwall.json");}).then(function(b){(new Promise(function(h,f){var d;try{d=JSON.parse(b);if(!d[0].highres)throw Error("incomplete JSON data: no highres");if(!d[0].src)throw Error("incomplete JSON data: no src");}catch(l){console.log("cannot init generateGallery",
l);return}var k=e.createDocumentFragment(),p;for(p in d)if(d.hasOwnProperty(p)&&d[p].src&&d[p].highres){var n=e.createElement("img");/^([0-9]+)(\x|\ )([0-9]+)$/.test(d[p].src)?n.src=["data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%20",d[p].src.replace("x","%20"),"%27%2F%3E"].join(""):n.src=d[p].src;n.dataset.highres=d[p].highres;n.classList.add("data-src-img");k.appendChild(n);k.appendChild(e.createTextNode("\n"))}a.appendChild(k)?
h():f()})).then(function(a){return a}).then(function(b){var d=setTimeout(function(){clearTimeout(d);d=null;a&&zoomwall.create(a,!0,"highres")},200)}).then(function(a){var b=setTimeout(function(){clearTimeout(b);b=null;echo("data-src-img","highres")},200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/picturewall/json/zoomwall.json")})},b=["./libs/picturewall/css/bundle.min.css"],a=function(a){var b=l.location.protocol||
"";return"http:"===b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in e.createElement("_")||b.push(a+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof l.Element&&"dataset"in e.documentElement||b.push(a+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});l.addEventListener("test",function(){},b)}catch(d){}return a})()||
b.push(a+"://cdnjs.cloudflare.com/ajax/libs/dom4/1.8.3/dom4.js");l.Promise||b.push(a+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");l.fetch||b.push(a+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");new loadJsCss([a+"://fonts.googleapis.com/css?family=Roboto:400&subset=cyrillic"],function(){var a,f=function(){clearInterval(a);a=null;new loadJsCss(b,d)},g=function(){var a=e.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}();a=setInterval(function(){g?doesFontExist("Roboto")&&
f():f()},100)})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
