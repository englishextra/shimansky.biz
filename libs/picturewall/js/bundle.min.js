(function(h){h.console||(h.console={});h=h.console;for(var f,e=function(){},b=["memory"],a="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");f=b.pop();)h[f]||(h[f]={});for(;f=a.pop();)h[f]||(h[f]=e);f=f=e=b=a=null})("undefined"!==typeof window?window:this);
(function(h,f,e){var b=function(){var a=function(){function b(a,g){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(a&&"object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.options[c]=a[c]);this.options.opacityDuration=3*this.options.duration;this.progressBar=f.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.style[b]=a[b])};this.progressBar.setCSS({position:g?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(g){var d;-1!==g.indexOf("#",0)?d=f.getElementById(g)||"":-1!==g.indexOf(".",0)&&(d=f.getElementsByClassName(g)[0]||
"");d&&(d.hasChildNodes()?d.insertBefore(this.progressBar,d.firstChild):d.appendChild(this.progressBar))}else f.body.appendChild(this.progressBar)}var d=function(){var a,b=f.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(c.hasOwnProperty(a)&&b.style[a]!==e)return c[a]}();b.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};b.prototype.getProgress=function(){return this.progress};
b.prototype.setProgress=function(a,b){this.show();this.progress=100<a?100:0>a?0:a;this.transit();b&&b()};b.prototype.increase=function(a,b){this.show();this.setProgress(this.progress+a,b)};b.prototype.decrease=function(a,b){this.show();this.setProgress(this.progress-a,b)};b.prototype.finish=function(b){var c=this;this.setProgress(100,b);this.hide();d&&this.progressBar.addEventListener(d,function(b){c.reset();c.progressBar.removeEventListener(b.type,a)})};b.prototype.reset=function(a){this.progress=
0;this.transit();a&&a()};b.prototype.hide=function(){this.progressBar.style.opacity="0"};b.prototype.show=function(){this.progressBar.style.opacity="1"};return b};return a()}();h.ToProgress=b})("undefined"!==typeof window?window:this,document);
(function(h,f){var e={create:function(b,a,c,d,k){var g=this;g.dataAttributeHighresName=c||"highres";g.dataAttributeLowresName=d||"lowres";e.resize(b.children);b.classList.remove("loading");b.addEventListener("click",function(){g.children&&0<g.children.length&&e.shrink(g.children[0])});for(c=0;c<b.children.length;c++)b.children[c].addEventListener("click",e.animate);a&&e.keys(b);"function"===typeof k&&k(b)},keys:function(b){var a=function(a){if(!a.defaultPrevented){var d=b||f.getElementsByClassName("zoomwall lightbox")[0];
if(d)switch(a.keyCode){case 27:d.children&&0<d.children.length&&e.shrink(d.children[0]);a.preventDefault();break;case 37:e.page(d,!1);a.preventDefault();break;case 39:e.page(d,!0),a.preventDefault()}}};f.addEventListener("keydown",a);return a},resizeRow:function(b,a){if(b&&1<b.length)for(var c in b)b.hasOwnProperty(c)&&(b[c].style.width=parseInt(h.getComputedStyle(b[c]).width,10)/a*100+"%",b[c].style.height="auto")},calcRowWidth:function(b){var a=0,c;for(c in b)b.hasOwnProperty(c)&&(a+=parseInt(h.getComputedStyle(b[c]).width,
10));return a},resize:function(b){for(var a=[],c=-1,d=0;d<b.length;d++){var k=b[d];k&&(-1==c?c=k.offsetTop:k.offsetTop!=c&&(e.resizeRow(a,e.calcRowWidth(a)),a=[],c=k.offsetTop),a.push(k))}e.resizeRow(a,e.calcRowWidth(a))},reset:function(b){b.style.transform="translate(0, 0) scale(1)";b.style.webkitTransform="translate(0, 0) scale(1)";b.classList.remove("active")},shrink:function(b){b.parentNode.classList.remove("lightbox");e.reset(b);for(var a=b.previousElementSibling;a;)e.reset(a),a=a.previousElementSibling;
for(a=b.nextElementSibling;a;)e.reset(a),a=a.nextElementSibling;b.dataset.lowres&&(b.src=b.dataset.lowres)},expand:function(b){b.classList.add("active");b.parentNode.classList.add("lightbox");var a=h.getComputedStyle(b.parentNode),c=parseInt(a.width,10),d=parseInt(a.height,10),k=b.parentNode.getBoundingClientRect().top,a=h.getComputedStyle(b),g=parseInt(a.width,10),f=parseInt(a.height,10),e=h.innerHeight;d<h.innerHeight?e=d:0<k&&(e-=k);b.dataset[this.dataAttributeHighresName]&&(b.src!=b.dataset[this.dataAttributeHighresName]&&
void 0===b.dataset[this.dataAttributeLowresName]&&(b.dataset[this.dataAttributeLowresName]=b.src),b.src=b.dataset[this.dataAttributeHighresName]);var l=[];l.push(b);for(a=b.nextElementSibling;a&&a.offsetTop==b.offsetTop;)l.push(a),a=a.nextElementSibling;for(a=b.previousElementSibling;a&&a.offsetTop==b.offsetTop;)l.unshift(a),a=a.previousElementSibling;a=e/f;g*a>c&&(a=c/g);var n=k-b.parentNode.offsetTop+b.offsetTop;if(d<h.innerHeight||f*a<d)n-=e/2-f*a/2;0<k&&(n-=k);for(d=k=0;d<l.length&&l[d]!=b;d++)k+=
parseInt(h.getComputedStyle(l[d]).width,10)*a;k=c/2-g*a/2-k;d=0;for(e=l.length-1;0<=e&&l[e]!=b;e--)d+=parseInt(h.getComputedStyle(l[e]).width,10)*a;d=c/2-g*a/2-d;for(g=c=b=0;g<l.length;g++){b+=c*a-c;var c=parseInt(h.getComputedStyle(l[g]).width,10),e=(b+k)/c*100,m=-n/parseInt(h.getComputedStyle(l[g]).height,10)*100;l[g].style.transformOrigin="0% 0%";l[g].style.webkitTransformOrigin="0% 0%";l[g].style.transform="translate("+e.toFixed(8)+"%, "+m.toFixed(8)+"%) scale("+a.toFixed(8)+")";l[g].style.webkitTransform=
"translate("+e.toFixed(8)+"%, "+m.toFixed(8)+"%) scale("+a.toFixed(8)+")"}for(var f=f*(a-1)-n,p,c=b=0,g=l[l.length-1].nextElementSibling,e=-1;g;){m=g.offsetTop;m==e?b+=c*a-c:(-1!=e&&(b=0,f+=p*(a-1)),e=m);c=parseInt(h.getComputedStyle(g).width,10);p=parseInt(h.getComputedStyle(g).height,10);var m=(b+k)/c*100,q=f/p*100;g.style.transformOrigin="0% 0%";g.style.webkitTransformOrigin="0% 0%";g.style.transform="translate("+m.toFixed(8)+"%, "+q.toFixed(8)+"%) scale("+a.toFixed(8)+")";g.style.webkitTransform=
"translate("+m.toFixed(8)+"%, "+q.toFixed(8)+"%) scale("+a.toFixed(8)+")";g=g.nextElementSibling}p=-n;c=b=0;l=l[0].previousElementSibling;for(n=-1;l;)k=l.offsetTop,k==n?b-=c*a-c:(b=0,p-=parseInt(h.getComputedStyle(l).height,10)*(a-1),n=k),c=parseInt(h.getComputedStyle(l).width,10),k=(b-d)/c*100,f=p/parseInt(h.getComputedStyle(l).height,10)*100,l.style.transformOrigin="100% 0%",l.style.webkitTransformOrigin="100% 0%",l.style.transform="translate("+k.toFixed(8)+"%, "+f.toFixed(8)+"%) scale("+a.toFixed(8)+
")",l.style.webkitTransform="translate("+k.toFixed(8)+"%, "+f.toFixed(8)+"%) scale("+a.toFixed(8)+")",l=l.previousElementSibling},animate:function(b){if(this.classList.contains("active"))e.shrink(this);else{for(var a=this.parentNode.getElementsByClassName("active"),c=0;c<a.length;c++)a[c].classList.remove("active");e.expand(this)}b.stopPropagation()},page:function(b,a){var c=b.getElementsByClassName("active");if(c&&0<c.length){var c=c[0],d;if(d=a?c.nextElementSibling:c.previousElementSibling)c.classList.remove("active"),
c.dataset.lowres&&(c.src=c.dataset.lowres),e.expand(d)}}};h.zoomwall=e})("undefined"!==typeof window?window:this,document);
(function(h){function f(a,b){for(var c=b.split(".");c.length;){if(!(c[0]in a))return!1;a=a[c.shift()]}return a}function e(c,k){return c.replace(b,function(a,b,c,d,h,m,p,q){d=f(k,d);var u="",r;if(!d)return"!"===c?e(h,k):p?e(q,k):"";if(!c)return e(m,k);if("@"===c){a=k._key;b=k._val;for(r in d)d.hasOwnProperty(r)&&(k._key=r,k._val=d[r],u+=e(h,k));k._key=a;k._val=b;return u}}).replace(a,function(a,b,c){return(a=f(k,c))||0===a?"%"===b?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var b=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
a=/\{\{([=%])(.+?)\}\}/g,c=function(a){this.t=a};c.prototype.render=function(a){return e(this.t,a)};h.t=c})("undefined"!==typeof window?window:this);
(function(h,f){h.echo=function(e,b,a){e=e||"data-src-img";b=b||"src";a=a||100;var c=function(a){this.elem=a;this.render();this.listen()},d=f.documentElement.classList.contains("is-binded-echo")||"",k=[],g=function(){for(var a=0;a<k.length;a++){var c=k[a],g=c.getBoundingClientRect();if((0<=g.top&&0<=g.left&&g.top)<=(h.innerHeight||f.documentElement.clientHeight)){var g=c,d=a;-1!==k.indexOf(c)&&k.splice(d,1);g.src=g.dataset[b]||g.getAttribute("data-"+b)}}},y=function(a,b){function c(){f=0;e=+new Date;
d=a.apply(g,k);k=g=null}var g,k,d,f,e=0;return function(){g=this;k=arguments;var a=new Date-e;f||(a>=b?c():f=setTimeout(c,b-a));return d}}(g,a),v=function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){a=!0}});h.addEventListener("test",function(){},b)}catch(c){}return a}();c.prototype={init:function(){k.push(this.elem)},render:function(){g()},listen:function(){d||(h.addEventListener("scroll",y,v?{passive:!0}:!1),f.documentElement.classList.add("is-binded-echo"))}};
var l=f.getElementsByClassName(e)||"";l&&function(){for(var a=0;a<l.length;a++)(new c(l[a])).init()}()}})("undefined"!==typeof window?window:this,document);(function(h,f){h.doesFontExist=function(e){var b=f.createElement("canvas").getContext("2d");b.font="72px monospace";var a=b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;b.font="72px '"+e+"', monospace";return b.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width==a?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(h,f){h.loadJsCss=function(e,b){var a=this;a.files=e;a.js=[];a.head=f.getElementsByTagName("head")[0]||"";a.body=f.body||"";a.ref=f.getElementsByTagName("script")[0]||"";a.callback=b||function(){};a.loadStyle=function(b){var c=f.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=b;a.head.appendChild(c)};a.loadScript=function(b){var c=f.createElement("script");c.type="text/javascript";c.async=!0;c.src=a.js[b];c.onload=function(){++b<a.js.length?a.loadScript(b):a.callback()};
a.head.appendChild(c);a.ref.parentNode?a.ref.parentNode.insertBefore(c,a.ref):(a.body||a.head).appendChild(c)};var c,d;c=0;for(d=a.files.length;c<d;c+=1)/\.js$|\.js\?/.test(a.files[c])&&a.js.push(a.files[c]),/\.css$|\.css\?|\/css\?/.test(a.files[c])&&a.loadStyle(a.files[c]);c=d=null;0<a.js.length?a.loadScript(0):a.callback()}})("undefined"!==typeof window?window:this,document);
(function(h,f){var e=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});e.increase(20);var b=function(){e.increase(20);var b="ontouchstart"in f[a]||"",c="onwheel"in f.createElement("div")||void 0!==f.onmousewheel||"",d=f.title||"",v=navigator.userAgent||"",l=function(){var a=new Date,b=a.getDate(),c=a.getFullYear(),a=a.getMonth(),a=a+1;10>b&&(b="0"+b);10>a&&(a="0"+a);return c+"-"+a+"-"+b}(),n="";v&&h.platform&&(n=platform.description||"",f.title=d+" ["+(l?" "+l:
"")+(n?" "+n:"")+(b||c?" with":"")+(b?" touch":"")+(b&&c?",":"")+(c?" mousewheel":"")+"]");var m=f.getElementsByClassName("zoomwall")[0]||"",p=function(a,b,c){b=f.getElementById(b)||"";c=f.getElementById(c)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&b&&c?(new t(b.innerHTML||"")).render(a):{}},q=function(a,b,c){var d=f.body||"",e=function(){return c&&"function"===typeof c&&c()};try{var g=b.cloneNode(!1);if(f.createRange){var k=f.createRange();
k.selectNode(d);var h=k.createContextualFragment(a);g.appendChild(h);return b.parentNode?b.parentNode.replaceChild(g,b):b.innerHTML=a,e()}g.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(f.createDocumentFragment.appendChild(g),b):b.innerHTML=a,e()}catch(l){console.log(l)}},u=function(a,b,c,d,e){e=e||"";var g=f.getElementById(b)||"",k=f.getElementById(c)||"",h=function(){return d&&"function"===typeof d&&d()};a&&g&&k&&(a=p(a,b,c),e?(k.innerHTML=a,h()):q(a,k,h))},r=function(a){return new Promise(function(b,
c){var d;try{if(d=JSON.parse(a),!d.pages[0].src)throw Error("incomplete JSON data: no src");}catch(e){console.log("cannot init generateGallery",e);return}u(d,"template_zoomwall","target_zoomwall",function(){0<f.getElementsByClassName("data-src-img").length?b():c()},!0)})},w,z=function(){clearTimeout(w);w=null;zoomwall.create(m,!0,"src",null,function(){m.style.visibility="visible";m.style.opacity=1});e.increase(20)},x,A=function(){clearTimeout(x);x=null;echo("data-src-img","src");e.finish();e.hide()},
b=new Headers;fetch("./libs/contents-cards/json/contents.json",{headers:b,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){r(a).then(function(a){return a}).then(function(a){w=setTimeout(z,100)}).then(function(a){x=setTimeout(A,200)})["catch"](function(a){console.log("Cannot create zoomwall gallery",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json")})},
a="documentElement",c=["./libs/picturewall/css/bundle.min.css"],d=function(a){var b=h.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":a?"http":""}(!0);"classList"in f.createElement("_")||c.push(d+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof h.Element&&"dataset"in f[a]||c.push(d+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var a=!1;try{var b=Object.defineProperty&&Object.defineProperty({},
"passive",{get:function(){a=!0}});h.addEventListener("test",function(){},b)}catch(c){}return a})()||c.push(d+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");h.Promise||c.push(d+"://cdn.jsdelivr.net/es6-promise-polyfill/1.2.0/promise.min.js");h.fetch||c.push(d+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");c.push(d+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");new loadJsCss([d+"://fonts.googleapis.com/css?family=Roboto:400&subset=cyrillic"],function(){var a,d=function(){clearInterval(a);
a=null;e.increase(20);new loadJsCss(c,b)},h=function(){doesFontExist("Roboto")&&d()};(function(){var a=f.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))})()?a=setInterval(h,100):(a=null,d())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
