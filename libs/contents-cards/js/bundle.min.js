(function(a){a.console||(a.console={});a=a.console;var c,f=function(){},h=["memory"],b=["assert,clear,count,debug,dir,dirxml,error,exception,group,","groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,","show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn"];for(b.join("").split(",");c=h.pop();)a[c]||(a[c]={});for(;c=b.pop();)a[c]||(a[c]=f);c=c=f=h=b=null})("undefined"!==typeof window?window:this);
(function(a,c,f){var h=function(){var b=function(){function a(b,d){this.progress=0;this.options={id:"top-progress-bar",color:"#F44336",height:"2px",duration:.2};if(b&&"object"===typeof b)for(var e in b)b.hasOwnProperty(e)&&(this.options[e]=b[e]);this.options.opacityDuration=3*this.options.duration;this.progressBar=c.createElement("div");this.progressBar.id=this.options.id;this.progressBar.setCSS=function(c){for(var d in c)c.hasOwnProperty(d)&&(this.style[d]=c[d])};this.progressBar.setCSS({position:d?
"relative":"fixed",top:"0",left:"0",right:"0","background-color":this.options.color,height:this.options.height,width:"0%",transition:"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-moz-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s","-webkit-transition":"width "+this.options.duration+"s, opacity "+this.options.opacityDuration+"s"});if(d){var g;-1!==d.indexOf("#",0)?g=c.getElementById(d)||"":-1!==d.indexOf(".",0)&&(g=c.getElementsByClassName(d)[0]||
"");g&&(g.hasChildNodes()?g.insertBefore(this.progressBar,g.firstChild):g.appendChild(this.progressBar))}else c.body.appendChild(this.progressBar)}var e=function(){var b,d=c.createElement("fakeelement"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(b in a)if(a.hasOwnProperty(b)&&d.style[b]!==f)return a[b]}();a.prototype.transit=function(){this.progressBar.style.width=this.progress+"%"};a.prototype.getProgress=function(){return this.progress};
a.prototype.setProgress=function(c,b){this.show();this.progress=100<c?100:0>c?0:c;this.transit();b&&b()};a.prototype.increase=function(c,b){this.show();this.setProgress(this.progress+c,b)};a.prototype.decrease=function(c,b){this.show();this.setProgress(this.progress-c,b)};a.prototype.finish=function(c){var a=this;this.setProgress(100,c);this.hide();e&&this.progressBar.addEventListener(e,function(c){a.reset();a.progressBar.removeEventListener(c.type,b)})};a.prototype.reset=function(c){this.progress=
0;this.transit();c&&c()};a.prototype.hide=function(){this.progressBar.style.opacity="0"};a.prototype.show=function(){this.progressBar.style.opacity="1"};return a};return b()}();a.ToProgress=h})("undefined"!==typeof window?window:this,document);
(function(a,c){var f=function(a){var b=a.container instanceof Node?a.container:c.getElementById(a.container)||c.getElementsByClassName(a.container)[0]||"",f=a.item instanceof NodeList?a.item:b.getElementsByClassName(a.item)||"",b={container:b,nodeList:f},e;for(e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);this.props=a};f.prototype.mount=function(){if(!this.props.container||!this.props.nodeList||0===this.props.nodeList.length)return!1;var c="number"===typeof this.props.gutter&&isFinite(this.props.gutter)&&
Math.floor(this.props.gutter)===this.props.gutter?this.props.gutter:0,a=this.props.done,f=this.props.container,e=this.props.nodeList;f.style.width="";var l=Array.prototype.forEach,d=f.getBoundingClientRect().width,q=e[0].getBoundingClientRect().width+c,d=Math.max(Math.floor((d-c)/q),1);f.style.width=q*d+c+"px";f.style.position="relative";for(var g=[],A=[],r=0;r<d;++r)A.push(r*q+c),g.push(c);this.props.rtl&&A.reverse();l.call(e,function(a){var b=g.slice(0).sort(function(c,a){return c-a}).shift(),b=
g.indexOf(b),d=parseInt(A[b]),e=parseInt(g[b]);a.style.position="absolute";a.style.webkitBackfaceVisibility=a.style.backfaceVisibility="hidden";a.style.transformStyle="preserve-3d";a.style.transform="translate3D("+d+"px,"+e+"px, 0)";g[b]+=a.getBoundingClientRect().height+c});f.style.display="";l=g.slice(0).sort(function(c,a){return c-a}).pop();f.style.height=l+"px";"function"===typeof a&&a(e)};a.Minigrid=f})("undefined"!==typeof window?window:this,document);
(function(a){function c(c,a){for(var b=a.split(".");b.length;){if(!(b[0]in c))return!1;c=c[b.shift()]}return c}function f(a,l){return a.replace(h,function(a,b,g,e,h,m,p,z){e=c(l,e);var C="",x;if(!e)return"!"===g?f(h,l):p?f(z,l):"";if(!g)return f(m,l);if("@"===g){a=l._key;b=l._val;for(x in e)e.hasOwnProperty(x)&&(l._key=x,l._val=e[x],C+=f(h,l));l._key=a;l._val=b;return C}}).replace(b,function(a,b,e){return(a=c(l,e))||0===a?"%"===b?(new Option(a)).text.replace(/"/g,"&quot;"):a:""})}var h=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,
b=/\{\{([=%])(.+?)\}\}/g,p=function(c){this.t=c};p.prototype.render=function(c){return f(this.t,c)};a.t=p})("undefined"!==typeof window?window:this);
(function(a,c){a.echo=function(f,h,b){f=f||"data-src-img";var p=h||"src";h=b||100;var e=function(c){this.elem=c;this.render();this.listen()},l=c.documentElement.classList.contains("is-binded-echo")||"",d=[],q=function(){for(var b=0;b<d.length;b++){var e=d[b],g=e.getBoundingClientRect();if((0<=g.top&&0<=g.left&&g.top)<=(a.innerHeight||c.documentElement.clientHeight)){var g=e,f=b;-1!==d.indexOf(e)&&d.splice(f,1);g.src=g.dataset[p]||g.getAttribute("data-"+p)}}},g=function(c,a){function b(){f=0;h=+new Date;
e=c.apply(d,g);g=d=null}var d,g,e,f,h=0;return function(){d=this;g=arguments;var c=new Date-h;f||(c>=a?b():f=setTimeout(b,a-c));return e}}(q,h),A=function(){var c=!1;try{var b=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){c=!0}});a.addEventListener("test",function(){},b)}catch(d){}return c}();e.prototype={init:function(){d.push(this.elem)},render:function(){q()},listen:function(){l||(a.addEventListener("scroll",g,A?{passive:!0}:!1),c.documentElement.classList.add("is-binded-echo"))}};
var r=c.getElementsByClassName(f)||"";r&&function(){for(var c=0;c<r.length;c++)(new e(r[c])).init()}()}})("undefined"!==typeof window?window:this,document);(function(a,c){a.doesFontExist=function(a){var h=c.createElement("canvas").getContext("2d");h.font="72px monospace";var b=h.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width;h.font="72px '"+a+"', monospace";return h.measureText("abcdefghijklmnopqrstuvwxyz0123456789").width===b?!1:!0}})("undefined"!==typeof window?window:this,document);
(function(a,c){a.loadJsCss=function(a,h){var b=this;b.files=a;b.js=[];b.head=c.getElementsByTagName("head")[0]||"";b.body=c.body||"";b.ref=c.getElementsByTagName("script")[0]||"";b.callback=h||function(){};b.loadStyle=function(a){var d=c.createElement("link");d.rel="stylesheet";d.type="text/css";d.href=a;b.head.appendChild(d)};b.loadScript=function(a){var d=c.createElement("script");d.type="text/javascript";d.async=!0;d.src=b.js[a];d.onload=function(){++a<b.js.length?b.loadScript(a):b.callback()};
b.head.appendChild(d);b.ref.parentNode?b.ref.parentNode.insertBefore(d,b.ref):(b.body||b.head).appendChild(d)};var p,e;p=0;for(e=b.files.length;p<e;p+=1)/\.js$|\.js\?/.test(b.files[p])&&b.js.push(b.files[p]),/\.css$|\.css\?|\/css\?/.test(b.files[p])&&b.loadStyle(b.files[p]);p=e=null;0<b.js.length?b.loadScript(0):b.callback()}})("undefined"!==typeof window?window:this,document);
(function(a,c){var f=new ToProgress({id:"top-progress-bar",color:"#FF2C40",height:"0.200rem",duration:.2});f.increase(20);var h="ontouchstart"in c.documentElement||"",b="onwheel"in c.createElement("div")||void 0!==c.onmousewheel||"",p=function(c){var b=a.location.protocol||"";return"http:"===b?"http":"https:"===b?"https":c?"http":""},e=p(!0),l=function(){var d=c.documentElement||"";d&&d.classList&&(d.classList.remove("no-js"),d.classList.add("js"));f.increase(20);var l=c.getElementsByClassName("card-grid")[0]||
"";(function(c){c=c&&c.nodeName?c:"";var a,b=function(c){for(var b=0,L=c.length;b<L;b+=1){var k=c[b];console.log("mutations observer: "+k.type);console.log(k.type,"target: "+k.target.tagName+("."+k.target.className||"#"+k.target.id||""));console.log(k.type,"added: "+k.addedNodes.length+" nodes");console.log(k.type,"removed: "+k.removedNodes.length+" nodes");if("childList"===k.type||"subtree"===k.type)a.disconnect(),f.finish(),f.hide()}};c&&(a=new MutationObserver(b),a.observe(c,{childList:!0,subtree:!0,
attributes:!1,characterData:!1}))})(l);var r=function(b,y){var k=y||"";return function(){var y=function(c){return c.replace(/^(#|\?)/,"").replace(/\:$/,"")},d=location||"",e=0===b.indexOf("//")||!!~b.indexOf("://"),g=a.location||"",f=function(){return g.protocol+"//"+g.hostname+(g.port?":"+g.port:"")||""},n=c.createElement("a");n.href=b;var h=n.href,l=f(),p=n.host||d.host,m;if("0"===n.port||""===n.port)a:switch(n.protocol){case "http:":m=k?":80":80;break a;case "https:":m=k?":443":443;break a;default:m=
k?":"+d.port:d.port}else m=k?n.port:y(n.port);return{href:h,origin:l,host:p,port:m,hash:k?n.hash:y(n.hash),hostname:n.hostname||d.hostname,pathname:"/"!==n.pathname.charAt(0)?k?"/"+n.pathname:n.pathname:k?n.pathname:n.pathname.slice(1),protocol:n.protocol&&":"!==n.protocol?k?n.protocol:y(n.protocol):k?d.protocol:y(d.protocol),search:k?n.search:y(n.search),query:k?n.search:y(n.search),isAbsolute:e,isRelative:!e,isCrossDomain:function(){var a=c.createElement("a");a.href=b;return a.protocol+"//"+a.hostname+
(a.port?":"+a.port:"")!==f()}(),hasHTTP:/^(http|https):\/\//i.test(b)?!0:!1}}()},m="undefined"!==typeof process&&"undefined"!==typeof require||"",q="undefined"!==typeof a&&a.process&&"renderer"===a.process.type||"",z;a:{if("undefined"!==typeof m&&m)try{if("undefined"!==typeof require("nw.gui")){z=!0;break a}}catch(L){}z=!1}var C=function(c){var b=function(){var a=q?require("electron").shell:"";return a?a.openExternal(c):""},k=function(){var a=z?require("nw.gui").Shell:"";return a?a.openExternal(c):
""};q?b():z?k():(b=a.location.protocol||"",(!b||"http:"!==b&&"https:"!==b)&&a.open(c,"_system","scrollbars=1,location=no"))},x=function(c,a){var b,d,e,g;return function(){e=this;d=[].slice.call(arguments,0);g=new Date;var f=function(){var h=new Date-g;h<a?b=setTimeout(f,a-h):(b=null,c.apply(e,d))};b||(b=setTimeout(f,a))}},K=c.getElementsByClassName("wrapper")[0]||"";(function(a){a=(a=a&&a.nodeName?a:"")?a.getElementsByTagName("a")||"":c.getElementsByTagName("a")||"";var b=function(a){var c=function(a,
c){c.stopPropagation();c.preventDefault();var b=C.bind(null,a);x(b,200)()};if(!a.classList.contains("is-binded")&&!a.target&&!a.rel){var b=a.getAttribute("href")||"";b&&r(b).isCrossDomain&&r(b).hasHTTP&&(a.title=""+(r(b).hostname||"")+" откроется в новой вкладке","undefined"!==typeof p&&p()?(a.target="_blank",a.rel="noopener"):a.addEventListener("click",c.bind(null,b)),a.classList.add("is-binded"))}};if(a){var k,d;k=0;for(d=a.length;k<d;k+=1)b(a[k]);k=d=null}})(K);var B=c.title||"",m=navigator.userAgent||
"",u=function(){var a=new Date,c=a.getDate(),b=a.getFullYear(),a=a.getMonth(),a=a+1;10>c&&(c="0"+c);10>a&&(a="0"+a);return b+"-"+a+"-"+c}(),w="";m&&a.platform&&(w=platform.description||"",c.title=B+" ["+(u?" "+u:"")+(w?" "+w:"")+(h||b?" with":"")+(h?" touch":"")+(h&&b?",":"")+(b?" mousewheel":"")+"]");var U=function(a,b,k){b=c.getElementById(b)||"";k=c.getElementById(k)||"";return(a=-1!==["boolean","number","string","symbol","function"].indexOf(typeof a)?JSON.parse(a):a)&&b&&k?(new t(b.innerHTML||
"")).render(a):{}},V=function(a,b,k){var d=c.body||"",e=function(){return k&&"function"===typeof k&&k()};try{var g=b.cloneNode(!1);if(c.createRange){var f=c.createRange();f.selectNode(d);var h=f.createContextualFragment(a);g.appendChild(h);return b.parentNode?b.parentNode.replaceChild(g,b):b.innerHTML=a,e()}g.innerHTML=a;return b.parentNode?b.parentNode.replaceChild(c.createDocumentFragment.appendChild(g),b):b.innerHTML=a,e()}catch(n){console.log(n)}},W=function(a,b,d,e,g){g=g||"";var f=c.getElementById(b)||
"",h=c.getElementById(d)||"",l=function(){return e&&"function"===typeof e&&e()};a&&f&&h&&(a=U(a,b,d),g?(h.innerHTML=a,l()):V(a,h,l))},X=function(a){var c=0,b;for(b in a)a.hasOwnProperty(b)&&++c;return c},Y=function(a){return new Promise(function(c,b){var d;try{if(d=JSON.parse(a),d.pages[0].href)if(d.pages[0].src)if(d.pages[0].width)if(d.pages[0].height){if(!d.pages[0].title)throw Error("incomplete JSON data: no title");if(!d.pages[0].text)throw Error("incomplete JSON data: no text");}else throw Error("incomplete JSON data: no height");
else throw Error("incomplete JSON data: no width");else throw Error("incomplete JSON data: no src");else throw Error("incomplete JSON data: no href");}catch(e){console.log("cannot init generateCardGrid",e);return}var g=X(d.pages);W(d,"template_card_grid","target_card_grid",function(){K.getElementsByClassName("card-wrap")[g-1]?c():b()},!0)})},E,Z=function(){clearTimeout(E);E=null;var b;b=new Minigrid({container:"card-grid",item:"card-wrap",gutter:20,done:function(){l.style.visibility="visible";l.style.opacity=
1}});b.mount();a.addEventListener("resize",function(){b.mount()},{passive:!0});var d=function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},k=c.documentElement.style,e="string"===typeof k.transition?"transition":"WebkitTransition",g="string"===typeof k.transform?"transform":"WebkitTransform";if(k=c.styleSheets[0]||"")d=d([".card-wrap{",e,": ",g," 0.4s ease-out;}"].join("")),k.insertRule(d,0)},F,aa=function(){clearTimeout(F);F=null;echo("data-src-img","src")},m=new Headers;
fetch("./libs/contents-cards/json/contents.json",{headers:m,credentials:"same-origin"}).then(function(a){if(a.ok)return a.text();throw Error("cannot fetch","./libs/contents-cards/json/contents.json");}).then(function(a){Y(a).then(function(a){return a}).then(function(){E=setTimeout(Z,200)}).then(function(){F=setTimeout(aa,200)})["catch"](function(a){console.log("Cannot create card grid",a)})})["catch"](function(a){console.log("cannot parse","./libs/contents-cards/json/contents.json",a)});var M=a.location.href||
"",N=function(a){var b,d,e;b=c.getElementsByTagName("script")||"";d=0;for(e=b.length;d<e;d+=1)if(b[d].getAttribute("src")===a)return!0;return!1},G=function(a){a=a||this;var b=c.getElementsByClassName("is-social")||"";if(b){var d,e;d=0;for(e=b.length;d<e;d+=1)a!==b[d]&&b[d].classList.remove("is-active")}};a.addEventListener("click",G);var H=c.getElementById("ya-share2")||"",u=(m=c.getElementsByClassName("btn-share")[0]||"")?m.getElementsByTagName("a")[0]||"":"",I,w=function(b){b.preventDefault();b.stopPropagation();
x(function(){H.classList.toggle("is-active");G(H);var b=function(){if(a.Ya)try{I?I.updateContent({title:B,description:B,url:M}):I=Ya.share2("ya-share2",{content:{title:B,description:B,url:M}})}catch(b){console.log("cannot update or init Ya",b)}},c=e+"://yastatic.net/share2/share.js";N(c)?b():new loadJsCss([c],b)},200)()};m&&u&&H&&u.addEventListener("click",w);var O=c.getElementsByClassName("vk-like")[0]||"",P=c.getElementsByClassName("holder-vk-like")[0]||"",u=(m=c.getElementsByClassName("btn-like")[0]||
"")?m.getElementsByTagName("a")[0]||"":"",Q,w=function(b){b.preventDefault();b.stopPropagation();x(function(){P.classList.toggle("is-active");G(P);var b=function(){if(a.VK&&!Q)try{VK.init({apiId:O.dataset.apiid||"",nameTransportPath:"/xd_receiver.htm",onlyWidgets:!0}),VK.Widgets.Like("vk-like",{type:"button",height:24}),Q=!0}catch(b){console.log("cannot init VK",b)}},c=e+"://vk.com/js/api/openapi.js?147";N(c)?b():new loadJsCss([c],b)},200)()};m&&u&&O&&u.addEventListener("click",w);var D=function(a,
b){function c(){f=0;h=+new Date;g=a.apply(d,e);e=d=null}var d,e,g,f,h=0;return function(){d=this;e=arguments;var a=new Date-h;f||(a>=b?c():f=setTimeout(c,b-a));return g}},v=c.getElementsByClassName("title-bar")[0]||"",J=v.offsetHeight||0,R=function(){D(function(){v.classList.remove("is-fixed");(c.body.scrollTop||c.documentElement.scrollTop||0)>J?v.classList.add("is-hidden"):v.classList.remove("is-hidden")},100)()},S=function(){D(function(){v.classList.remove("is-hidden");(c.body.scrollTop||c.documentElement.scrollTop||
0)>J?v.classList.add("is-fixed"):v.classList.remove("is-fixed")},100)()},m=function(){D(function(){(c.body.scrollTop||c.documentElement.scrollTop||0)<J&&(v.classList.remove("is-hidden"),v.classList.remove("is-fixed"))},100)()};v&&(a.addEventListener("scroll",m,{passive:!0}),h?a.tocca&&(a.addEventListener("swipeup",R,{passive:!0}),a.addEventListener("swipedown",S,{passive:!0})):b&&a.WheelIndicator&&new WheelIndicator({elem:a,callback:function(a){"down"===a.direction&&R();"up"===a.direction&&S()},preventMouse:!1}));
var ba=function(b,d,e){function g(){m+=1/60;var b=m/n,c=p[l](b);1>b?(requestAnimationFrame(g),a.scrollTo(0,f+(h-f)*c)):a.scrollTo(0,h)}var f=a.scrollY||c.documentElement.scrollTop,h=b||0,l=e||"easeOutSine",m=0,n=Math.max(.1,Math.min(Math.abs(f-h)/(d||2E3),.8)),p={easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}};g()},T=c.body||"",m=c.getElementsByClassName("btn-totop")[0]||
"",u=function(a){a.stopPropagation();a.preventDefault();ba(0,2E4)},w=function(a){D(function(){var b=c.getElementsByClassName("btn-totop")[0]||"",e=a.pageYOffset||d.scrollTop||T.scrollTop||"",f=a.innerHeight||d.clientHeight||T.clientHeight||"";e&&f&&b&&(e>f?b.classList.add("is-active"):b.classList.remove("is-active"))},100)()};m&&(m.addEventListener("click",u),a.addEventListener("scroll",w,{passive:!0}))},d=["./libs/contents-cards/css/bundle.min.css"];a.MutationObserver||d.push(e+"://cdn.jsdelivr.net/npm/mutation-observer@1.0.3/index.min.js");
"classList"in c.createElement("_")||d.push(e+"://cdn.jsdelivr.net/npm/classlist.js@1.1.20150312/classList.min.js");"undefined"!==typeof a.Element&&"dataset"in c.documentElement||d.push(e+"://cdn.jsdelivr.net/npm/element-dataset@2.2.6/lib/browser/index.cjs.min.js");(function(){var b=!1;try{var c=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){b=!0}});a.addEventListener("test",function(){},c)}catch(d){}return b})()||d.push(e+"://cdn.jsdelivr.net/npm/dom4@1.8.5/build/dom4.max.min.js");
a.Promise||d.push(e+"://cdn.jsdelivr.net/npm/promise-polyfill@6.0.2/promise.min.js");a.fetch||d.push(e+"://cdn.jsdelivr.net/fetch/2.0.1/fetch.min.js");d.push(e+"://cdn.jsdelivr.net/npm/platform@1.3.4/platform.min.js");h?d.push(e+"://cdnjs.cloudflare.com/ajax/libs/Tocca.js/2.0.1/Tocca.min.js"):b&&d.push("./cdn/wheel-indicator/1.1.4/js/wheel-indicator.fixed.min.js");var q=function(){var a=c.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))}();new loadJsCss([e+"://fonts.googleapis.com/css?family=Roboto:400,700&subset=cyrillic"],
function(){var a,b=function(){clearInterval(a);a=null;f.increase(20);new loadJsCss(d,l)},c=function(){doesFontExist("Roboto")&&b()};q?a=setInterval(c,100):(a=null,b())})})("undefined"!==typeof window?window:this,document);
//# sourceMappingURL=bundle.min.js.map
