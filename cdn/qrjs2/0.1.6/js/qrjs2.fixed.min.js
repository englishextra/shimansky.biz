!function(r){"use strict";for(var t="length",e=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],n=0,a=1,o=2,u=4,f=8,i=/^\d*$/,c=/^[A-Za-z0-9 $%*+\-./:] * $ /,l=/^[A-Z0-9 $%*+\-./:] * $ /,s=1,v=0,h=3,d=2,p=[],m=[-1],g=0,w=1;255>g;++g)p.push(w),m[w]=g,w=2*w^(128>w?0:285);for(var x=[[]],g=0;30>g;++g){for(var F=x[g],b=[],C=0;g>=C;++C){var y=g>C?p[F[C]]:0,M=p[(g+(F[C-1]||0))%255];b.push(m[y^M])}x.push(b)}for(var A={},g=0;45>g;++g)A["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(g)]=g;var N=[function(r,t){return(r+t)%2===0},function(r){return r%2===0},function(r,t){return t%3===0},function(r,t){return(r+t)%3===0},function(r,t){return((r/2|0)+(t/3|0))%2===0},function(r,t){return r*t%2+r*t%3===0},function(r,t){return(r*t%2+r*t%3)%2===0},function(r,t){return((r+t)%2+r*t%3)%2===0}],k=function(r){return r>6},L=function(r){return 4*r+17},R=function(r){var n=e[r],a=16*r*r+128*r+64;return k(r)&&(a-=36),n[2][t]&&(a-=25*n[2][t]*n[2][t]-10*n[2][t]-55),a},S=function(r,t){var n=-8&R(r),a=e[r];return n-=8*a[0][t]*a[1][t]},$=function(r,t){switch(t){case a:return 10>r?10:27>r?12:14;case o:return 10>r?9:27>r?11:13;case u:return 10>r?8:16;case f:return 10>r?8:27>r?10:12}},E=function(r,t,e){var n=S(r,e)-4-$(r,t);switch(t){case a:return 3*(n/10|0)+(4>n%10?0:7>n%10?1:2);case o:return 2*(n/11|0)+(6>n%11?0:1);case u:return n/8|0;case f:return n/13|0}},z=function(r,e){switch(r){case a:return e.match(i)?e:null;case o:return e.match(c)?e.toUpperCase():null;case u:if("string"==typeof e){for(var n=[],f=0;f<e[t];++f){var l=e.charCodeAt(f);128>l?n.push(l):2048>l?n.push(192|l>>6,128|63&l):65536>l?n.push(224|l>>12,128|l>>6&63,128|63&l):n.push(240|l>>18,128|l>>12&63,128|l>>6&63,128|63&l)}return n}return e}},D=function(r,e,f,i){var c=[],l=0,s=8,v=f[t],h=function(r,t){if(t>=s){for(c.push(l|r>>(t-=s));t>=8;)c.push(r>>(t-=8)&255);l=0,s=8}t>0&&(l|=(r&(1<<t)-1)<<(s-=t))},d=$(r,e);switch(h(e,4),h(v,d),e){case a:for(var p=2;v>p;p+=3)h(parseInt(f.substring(p-2,p+1),10),10);h(parseInt(f.substring(p-2),10),[0,4,7][v%3]);break;case o:for(var p=1;v>p;p+=2)h(45*A[f.charAt(p-1)]+A[f.charAt(p)],11);v%2===1&&h(A[f.charAt(p-1)],6);break;case u:for(var p=0;v>p;++p)h(f[p],8)}for(h(n,4),8>s&&c.push(l);c[t]+1<i;)c.push(236,17);return c[t]<i&&c.push(236),c},G=function(r,e){for(var n=r.slice(0),a=r[t],o=e[t],u=0;o>u;++u)n.push(0);for(var f=0;a>f;){var i=m[n[f++]];if(i>=0)for(var c=0;o>c;++c)n[f+c]^=p[(i+e[c])%255]}return n.slice(a)},U=function(r,e,n){for(var a=[],o=r[t]/e|0,u=0,f=e-r[t]%e,i=0;f>i;++i)a.push(u),u+=o;for(var i=f;e>i;++i)a.push(u),u+=o+1;a.push(u);for(var c=[],i=0;e>i;++i)c.push(G(r.slice(a[i],a[i+1]),n));for(var l=[],s=r[t]/e|0,i=0;s>i;++i)for(var v=0;e>v;++v)l.push(r[a[v]+i]);for(var v=f;e>v;++v)l.push(r[a[v+1]-1]);for(var i=0;i<n[t];++i)for(var v=0;e>v;++v)l.push(c[v][i]);return l},H=function(r,t,e,n){for(var a=r<<n,o=t-1;o>=0;--o)a>>n+o&1&&(a^=e<<o);return r<<n|a},I=function(r){for(var n=e[r],a=L(r),o=[],u=[],f=0;a>f;++f)o.push([]),u.push([]);var i=function(r,t,e,n,a){for(var f=0;e>f;++f)for(var i=0;n>i;++i)o[r+f][t+i]=a[f]>>i&1,u[r+f][t+i]=1};i(0,0,9,9,[127,65,93,93,93,65,383,0,64]),i(a-8,0,8,9,[256,127,65,93,93,93,65,127]),i(0,a-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var f=9;a-8>f;++f)o[6][f]=o[f][6]=1&~f,u[6][f]=u[f][6]=1;for(var c=n[2],l=c[t],f=0;l>f;++f)for(var s=0===f||f===l-1?1:0,v=0===f?l-1:l,h=s;v>h;++h)i(c[f],c[h],5,5,[31,17,21,17,31]);if(k(r))for(var d=H(r,6,7973,12),p=0,f=0;6>f;++f)for(var h=0;3>h;++h)o[f][a-11+h]=o[a-11+h][f]=d>>p++&1,u[f][a-11+h]=u[a-11+h][f]=1;return{matrix:o,reserved:u}},P=function(r,e,n){for(var a=r[t],o=0,u=-1,f=a-1;f>=0;f-=2){6===f&&--f;for(var i=0>u?a-1:0,c=0;a>c;++c){for(var l=f;l>f-2;--l)e[i][l]||(r[i][l]=n[o>>3]>>(7&~o)&1,++o);i+=u}u=-u}return r},Q=function(r,e,n){for(var a=N[n],o=r[t],u=0;o>u;++u)for(var f=0;o>f;++f)e[u][f]||(r[u][f]^=a(u,f));return r},T=function(r,e,n,a){for(var o=r[t],u=21522^H(n<<3|a,5,1335,10),f=0;15>f;++f){var i=[0,1,2,3,4,5,7,8,o-7,o-6,o-5,o-4,o-3,o-2,o-1][f],c=[o-1,o-2,o-3,o-4,o-5,o-6,o-7,o-8,7,5,4,3,2,1,0][f];r[i][8]=r[8][c]=u>>f&1}return r},Z=function(r){for(var e=3,n=3,a=40,o=10,u=function(r){for(var n=0,o=0;o<r[t];++o)r[o]<5||(n+=e+(r[o]-5));for(var o=5;o<r[t];o+=2){var u=r[o];r[o-1]!==u||r[o-2]!==3*u||r[o-3]!==u||r[o-4]!==u||r[o-5]<4*u&&r[o+1]<4*u||(n+=a)}return n},f=r[t],i=0,c=0,l=0;f>l;++l){var s,v=r[l];s=[0];for(var h=0;f>h;){var d;for(d=0;f>h&&v[h];++d)++h;for(s.push(d),d=0;f>h&&!v[h];++d)++h;s.push(d)}i+=u(s),s=[0];for(var h=0;f>h;){var d;for(d=0;f>h&&r[h][l];++d)++h;for(s.push(d),d=0;f>h&&!r[h][l];++d)++h;s.push(d)}i+=u(s);var p=r[l+1]||[];c+=v[0];for(var h=1;f>h;++h){var m=v[h];c+=m,v[h-1]===m&&p[h]===m&&p[h-1]===m&&(i+=n)}}return i+=o*(Math.abs(c/f/f-.5)/.05|0)},q=function(r,t,n,a,o){var u=e[t],f=D(t,n,r,S(t,a)>>3);f=U(f,u[1][a],x[u[0][a]]);var i=I(t),c=i.matrix,l=i.reserved;if(P(c,l,f),0>o){Q(c,l,0),T(c,l,a,0);var s=0,v=Z(c);for(Q(c,l,0),o=1;8>o;++o){Q(c,l,o),T(c,l,a,o);var h=Z(c);v>h&&(v=h,s=o),Q(c,l,o)}o=s}return Q(c,l,o),T(c,l,a,o),c},B="appendChild",V="createElement",j="createElementNS",J="setAttributeNS",K="createRange",O="selectNodeContents",W="createContextualFragment",X="createDocumentFragment",Y="createTextNode",_={generate:function(r,e){var n=e||{},f={numeric:a,alphanumeric:o,octet:u},c={L:s,M:v,Q:h,H:d},p=n.version||-1,m=c[(n.ecclevel||"L").toUpperCase()],g=n.mode?f[n.mode.toLowerCase()]:-1,w="mask"in n?n.mask:-1;if(0>g)g="string"==typeof r?r.match(i)?a:r.match(l)?o:u:u;else if(g!==a&&g!==o&&g!==u)throw"invalid or unsupported mode";if(r=z(g,r),null===r)throw"invalid data format";if(0>m||m>3)throw"invalid ECC level";if(0>p){for(p=1;40>=p&&r[t]>E(p,g,m);++p);if(p>40)throw"too large data"}else if(1>p||p>40)throw"invalid version";if(-1!==w&&(0>w||w>8))throw"invalid mask";return q(r,p,g,m,w)},generateHTML:function(r,e){for(var n=e||{},a=n.fillcolor?n.fillcolor:"#FFFFFF",o=n.textcolor?n.textcolor:"#000000",u=_.generate(r,n),f=Math.max(n.modulesize||5,.5),i=Math.max(null!==n.margin?n.margin:4,0),c=document[V]("div"),l=u[t],s=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+f*i+"px solid "+a+";background:"+a+'">'],v=0;l>v;++v){s.push("<tr>");for(var h=0;l>h;++h)s.push('<td style="width:'+f+"px;height:"+f+"px"+(u[v][h]?";background:"+o:"")+'"></td>');s.push("</tr>")}c.className="qrcode";var d=document[K]();d[O](c);var p=d[W](s.join("")+"</table>");return c[B](p),c},generateSVG:function(r,e){var n=e||{},a=n.fillcolor?n.fillcolor:"#FFFFFF",o=n.textcolor?n.textcolor:"#000000",u=_.generate(r,n),f=u[t],i=Math.max(n.modulesize||5,.5),c=Math.max(n.margin?n.margin:4,0),l=i*(f+2*c),s=document[j]("http://www.w3.org/2000/svg","svg");s[J](null,"viewBox","0 0 "+l+" "+l),s[J](null,"style","shape-rendering:crispEdges");var v="qrcode"+Date.now();s[J](null,"id",v);var h=document[X](),d=document[j]("http://www.w3.org/2000/svg","style");d[B](document[Y]("#"+v+" .bg{fill:"+a+"}#"+v+" .fg{fill:"+o+"}")),h[B](d);var p=function(r,t,e,n,a){var o=document[j]("http://www.w3.org/2000/svg","rect")||"";return o[J](null,"class",r),o[J](null,"fill",t),o[J](null,"x",e),o[J](null,"y",n),o[J](null,"width",a),o[J](null,"height",a),o};h[B](p("bg","none",0,0,l));for(var m=c*i,g=0;f>g;++g){for(var w=c*i,x=0;f>x;++x)u[g][x]&&h[B](p("fg","none",w,m,i)),w+=i;m+=i}return s[B](h),s},generatePNG:function(r,e){var n,a=e||{},o=a.fillcolor?a.fillcolor:"#FFFFFF",u=a.textcolor?a.textcolor:"#000000",f=_.generate(r,a),i=Math.max(a.modulesize||5,.5),c=Math.max(null!==a.margin&&void 0!==a.margin?a.margin:4,0),l=f[t],s=i*(l+2*c),v=document[V]("canvas");if(v.width=v.height=s,n=v.getContext("2d"),!n)throw"canvas support is needed for PNG output";n.fillStyle=o,n.fillRect(0,0,s,s),n.fillStyle=u;for(var h=0;l>h;++h)for(var d=0;l>d;++d)f[h][d]&&n.fillRect(i*(c+d),i*(c+h),i,i);return v.toDataURL()}};r.QRCode=_}("undefined"!=typeof window?window:this);
